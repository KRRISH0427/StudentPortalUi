<!DOCTYPE html>
<html>
<head>
    <title>Registration Form</title>
</head>

<body>
    <center>
        <h2 style="background-color: gray;">REGISTRATION FORM</h2>

        <form id="registrationForm">
            <div>
                Name: <input type="text" id="name" required>
            </div><br>

            <div>
               <label> Email: </label><input type="email" id="email" required>
            </div><br>

            <div>
                Mobile Number: <input type="text" id="mob" required>
            </div><br>

            <div>
                Address: <input type="text" id="address" required>
            </div><br>

            <div>
                Gender:
                <select id="gender" required>
                    <option value="">Select</option>
                    <option value="M">Male</option>
                    <option value="F">Female</option>
                </select>
            </div><br>

            <div>
                Password: <input type="password" id="password" required>
            </div><br><br>

            <input type="submit" value="SUBMIT NOW">
        </form>
    </center>

    <script>
        document.getElementById("registrationForm").addEventListener("submit", function (e) {
            e.preventDefault(); // stop page reload
            registerStudent();
        });

        function registerStudent() {
            const url = "http://localhost:8080/register";

            const jsonBody = {
                name: document.getElementById("name").value,
                email: document.getElementById("email").value,
                mob: document.getElementById("mob").value,
                address: document.getElementById("address").value,
                gender: document.getElementById("gender").value,
                password: document.getElementById("password").value
            };

            fetch(url, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(jsonBody)
            })
            .then(response => response.text())
            .then(result => {
                alert("Registration Successful!");
                console.log(result);
            })
            .catch(error => {
                console.error("Error:", error);
                alert("Registration Failed");
            });
        }
    </script>
</body>
</html>
